{"version":3,"file":"Menu.stories-4bab3618.js","sources":["../../src/components/Menu/Menu.tsx","../../src/components/Menu/MenuItem.tsx","../../src/components/Menu/SubMenu.tsx"],"sourcesContent":["import React, { createContext, useState } from 'react';\nimport { classNames } from '../../utils';\nimport { MenuItemProps } from './MenuItem';\n\nexport type SelectCallback = (selectIndex: string) => void;\n\ninterface IMenuContext {\n\tindex: string;\n\tmode?: MenuMode;\n\tdefaultOpenSubMenu?: string[];\n\tonSelect?: SelectCallback;\n}\n\nexport const MenuContext = createContext<IMenuContext>({ index: '0' });\n\ntype MenuMode = 'horizontal' | 'vertical';\n\nexport interface MenuProps {\n\tdefaultIndex?: string;\n\tclassName?: string;\n\tmode?: MenuMode;\n\tstyle?: React.CSSProperties;\n\tchildren?: React.ReactNode;\n\tdefaultOpenSubMenu?: string[];\n\tonSelect?: SelectCallback;\n}\n\nconst Menu: React.FC<MenuProps> = ({\n\tmode,\n\tdefaultIndex,\n\tclassName,\n\tstyle,\n\tchildren,\n\tdefaultOpenSubMenu,\n\tonSelect\n}) => {\n\tconst [currentActive, setActive] = useState(defaultIndex);\n\tconst classes = classNames('menu', className, [\n\t\tmode === 'vertical' ? 'menu-vertical' : 'menu-horizontal'\n\t]);\n\tconst handleClick = (index: string) => {\n\t\tsetActive(index);\n\t\tif (typeof onSelect === 'function') onSelect(index);\n\t};\n\tconst menuContext: IMenuContext = {\n\t\tindex: currentActive ?? '0',\n\t\tmode,\n\t\tdefaultOpenSubMenu,\n\t\tonSelect: handleClick\n\t};\n\n\tconst renderChildren = () => {\n\t\treturn React.Children.map(children, (child, index) => {\n\t\t\tconst el = child as React.FunctionComponentElement<MenuItemProps>;\n\t\t\tconst passedName = ['MenuItem', 'SubMenu'];\n\n\t\t\tif (passedName.includes(el.type.displayName || '')) {\n\t\t\t\treturn React.cloneElement(el, { index: index.toString() });\n\t\t\t} else {\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Warning: Menu has a child which is not a MenuItem component.'\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t};\n\n\treturn (\n\t\t<ul className={classes} style={style} data-testid=\"test-menu\">\n\t\t\t<MenuContext.Provider value={menuContext}>\n\t\t\t\t{renderChildren()}\n\t\t\t</MenuContext.Provider>\n\t\t</ul>\n\t);\n};\n\nMenu.defaultProps = {\n\tdefaultIndex: '0',\n\tmode: 'horizontal',\n\tdefaultOpenSubMenu: []\n};\n\nexport default Menu;\n","import React, { useContext } from 'react';\nimport { classNames } from '../../utils';\nimport { MenuContext, SelectCallback } from './Menu';\n\nexport interface MenuItemProps {\n\tindex?: string;\n\tdisabled?: boolean;\n\tclassName?: string;\n\tstyle?: React.CSSProperties;\n\tchildren?: React.ReactNode;\n\tonSelect?: SelectCallback;\n}\n\nconst MenuItem: React.FC<MenuItemProps> = ({\n\tindex,\n\tdisabled,\n\tclassName,\n\tstyle,\n\tchildren\n}) => {\n\tconst context = useContext(MenuContext);\n\tconst classes = classNames('menu-item', className, {\n\t\tdisabled,\n\t\tactive: context.index === index\n\t});\n\tconst handleClick = () => {\n\t\tif (context.onSelect && !disabled && typeof index === 'string') {\n\t\t\tcontext.onSelect(index);\n\t\t}\n\t};\n\treturn (\n\t\t<li className={classes} style={style} onClick={handleClick}>\n\t\t\t{children}\n\t\t</li>\n\t);\n};\n\nMenuItem.displayName = 'MenuItem';\n\nexport default MenuItem;\n","import React, { useState, useContext, useRef } from 'react';\nimport { classNames } from '../../utils';\nimport { MenuContext } from './Menu';\nimport { MenuItemProps } from './MenuItem';\nimport Transition from '../Transition';\nimport Icon from '../Icon';\n\nexport interface SubMenuProps {\n\tindex?: string;\n\ttitle: string;\n\tclassName?: string;\n\tchildren?: React.ReactNode;\n}\n\nconst SubMenu: React.FC<SubMenuProps> = ({\n\tindex,\n\ttitle,\n\tclassName,\n\tchildren\n}) => {\n\tconst context = useContext(MenuContext);\n\tconst isOpen =\n\t\tcontext.mode === 'vertical' &&\n\t\t!!context.defaultOpenSubMenu?.includes(index || '');\n\tconst [subMenuOpen, setSubMenuOpen] = useState(isOpen);\n\tconst classes = classNames('menu-item sub-menu-item', className, {\n\t\tactive: context.index === index,\n\t\topened: subMenuOpen\n\t});\n\tconst nodeRef = useRef(null);\n\n\tconst handleClick = (e: React.MouseEvent) => {\n\t\te.preventDefault();\n\t\tsetSubMenuOpen(!subMenuOpen);\n\t};\n\tconst handleMouse = (e: React.MouseEvent, toggle: boolean) => {\n\t\te.preventDefault();\n\t\tsetSubMenuOpen(toggle);\n\t};\n\n\tconst clickEvent =\n\t\tcontext.mode === 'vertical'\n\t\t\t? {\n\t\t\t\t\tonClick: handleClick\n\t\t\t  }\n\t\t\t: {};\n\tconst mouseEvent =\n\t\tcontext.mode !== 'vertical'\n\t\t\t? {\n\t\t\t\t\tonMouseEnter: (e: React.MouseEvent) => handleMouse(e, true),\n\t\t\t\t\tonMouseLeave: (e: React.MouseEvent) => handleMouse(e, false)\n\t\t\t  }\n\t\t\t: {};\n\n\tconst renderChildren = () => {\n\t\tconst childrenEl = React.Children.map(children, (child, i) => {\n\t\t\tconst el = child as React.FunctionComponentElement<MenuItemProps>;\n\n\t\t\tif (el.type.displayName === 'MenuItem') {\n\t\t\t\treturn React.cloneElement(el, {\n\t\t\t\t\tindex: `${index}-${i}`\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Warning: SubMenu has a child which is not a MenuItem component.'\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<Transition\n\t\t\t\tnodeRef={nodeRef}\n\t\t\t\tin={subMenuOpen}\n\t\t\t\ttimeout={300}\n\t\t\t\tanimationName=\"zoom-in-top\"\n\t\t\t>\n\t\t\t\t<ul ref={nodeRef} className=\"sub-menu\">\n\t\t\t\t\t{childrenEl}\n\t\t\t\t</ul>\n\t\t\t</Transition>\n\t\t);\n\t};\n\n\treturn (\n\t\t<li className={classes} {...mouseEvent}>\n\t\t\t<div className=\"sub-menu-title\" {...clickEvent}>\n\t\t\t\t{title}\n\t\t\t\t<Icon\n\t\t\t\t\ticon=\"FaAngleDown\"\n\t\t\t\t\tclassName=\"sub-menu-title-arrow-icon\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{renderChildren()}\n\t\t</li>\n\t);\n};\n\nSubMenu.displayName = 'SubMenu';\n\nexport default SubMenu;\n"],"names":["MenuContext","createContext","Menu","mode","defaultIndex","className","style","children","defaultOpenSubMenu","onSelect","currentActive","setActive","useState","classes","classNames","menuContext","index","renderChildren","React","child","el","jsx","Menu$1","MenuItem","disabled","context","useContext","SubMenu","title","isOpen","_a","subMenuOpen","setSubMenuOpen","nodeRef","useRef","handleClick","e","handleMouse","toggle","clickEvent","mouseEvent","childrenEl","i","Transition","jsxs","Icon"],"mappings":"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"}